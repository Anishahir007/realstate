import{u as y,r,j as t,C as j,P as g,R as h,a as c,O as L,b as C}from"./index-D-EC-dPZ.js";import R from"./ViewProperty-CZqz4fma.js";function w(){const{slug:i}=y(),[e,p]=r.useState(null),[u,d]=r.useState(!0),n="https://backend.proker.xyz";if(r.useEffect(()=>{let o=!0;async function f(){try{const{data:m}=await C.get(`${n}/api/templates/site/${i}/context`);o&&p(m)}finally{o&&d(!1)}}return f(),()=>{o=!1}},[i,n]),u)return t.jsx("div",{style:{padding:24},children:"Loading siteâ€¦"});if(!e)return t.jsx("div",{style:{padding:24},children:"Site not found"});const s=e.site,a=e.properties||[],l=(e.template||s?.template||"proclassic").toLowerCase(),x=l==="classic"?j:g;return t.jsx(x,{site:s,properties:a,children:t.jsxs(h,{children:[t.jsx(c,{path:"property/:id",element:t.jsx(R,{site:s,properties:a})}),t.jsx(c,{path:"*",element:t.jsx(L,{context:{site:s,properties:a,template:l}})})]})})}export{w as default};
