import{r as i,g as h,j as t,C as j,P as y,R as g,a as l,O as w,b as C}from"./index-D-EC-dPZ.js";import L from"./ViewProperty-CZqz4fma.js";function E(){const[e,c]=i.useState(null),[p,d]=i.useState(!0),n=h();if(i.useEffect(()=>{let o=!0;async function x(){try{const f=window.location.host,{data:m}=await C.get(`${n}/api/templates/domain/context`,{headers:{"x-site-host":f},withCredentials:!1});o&&c(m)}finally{o&&d(!1)}}return x(),()=>{o=!1}},[n]),p)return t.jsx("div",{style:{padding:24},children:"Loadingâ€¦"});if(!e)return t.jsx("div",{style:{padding:24},children:"Site not found"});const s=e.site,a=e.properties||[],r=(e.template||s?.template||"proclassic").toLowerCase(),u=r==="classic"?j:y;return t.jsx(u,{site:s,properties:a,children:t.jsxs(g,{children:[t.jsx(l,{path:"property/:id",element:t.jsx(L,{site:s,properties:a})}),t.jsx(l,{path:"*",element:t.jsx(w,{context:{site:s,properties:a,template:r}})})]})})}export{E as default};
